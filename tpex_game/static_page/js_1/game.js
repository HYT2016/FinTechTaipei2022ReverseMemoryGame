"use strict";function _createForOfIteratorHelper(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,t=function(){};return{s:t,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){i=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(i)throw r}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function isID(e){if(e=e.trim().toUpperCase(),!/^[A-Z][12]\d{8}$/.test(e))return!1;var t=[1,9,8,7,6,5,4,3,2,1,1];e=String("ABCDEFGHJKLMNPQRSTUVXYWZIO".indexOf(e[0])+10)+e.slice(1);for(var n=0,a=0;a<e.length;a++)n+=parseInt(e[a])*t[a];return n%10==0}$(function(){var r=/^https?:\/\/[^\/]+(.*?)\/css\//.test($('link[href*="/css/main.css"]').prop("href"))?RegExp.$1:null,o={},t=_createForOfIteratorHelper("answer-bingo,answer-wrong,question,resualt".split(","));try{for(t.s();!(e=t.n()).done;){var e=e.value;o[e]=document.createElement("audio"),o[e].src=r+"/sound/"+e+".m4a"}}catch(e){t.e(e)}finally{t.f()}o.question.volume=.7;var i=[0,2,2,2,2,0,1,2],u=$("#game>.view.qa");o.question.play(),u.eq(0).addClass("active").delay(100).queueAddClass("actived"),$("#game>.view.qa>.ans li").on("click",function(e){var t=$(e.target),e=t.addClass("selected").index(),n=t.closest(".view.qa"),a=u.index(n),e=i[a]===e;e?t.closest("ol").find("li").eq(i[a]).addClass("correct"):(t.addClass("wrong"),window.setTimeout(function(){t.closest("ol").find("li").eq(i[a]).addClass("correct")},1500)),n.addClass(e?"answer-correct":"answer-wrong"),o[e?"answer-bingo":"answer-wrong"].play(),window.setTimeout(function(){n.addClass("out").removeClass("actived"),window.setTimeout(function(){n.removeClass("active"),a<i.length-1?(window.scrollTo({top:0}),o.question.play(),u.eq(a+1).addClass("active").delay(100).queueAddClass("actived")):function(){window.scrollTo({top:0});var i=["A","B","C"];oBgSound.pause(),oBgSound.src=r+"/sound/bgm3.m4a",o.resualt.play(),window.setTimeout(function(){oBgSound.play()},3e3),$("#game>.view.resualt").addClass("active");var s=$(".chatting>.wp"),c=[],l=0;u.each(function(e,t){var n=$(t),a=n.find("li.correct"),r=n.find("li.selected"),o=i[a.index()],t=i[r.index()],a=o+"."+a.text(),r=t+"."+r.text();c.push(t),s.append("<p>".concat(n.find(".num>b").text(),"</p>")),s.append("<p>".concat(n.find("h2").text(),"</p>")),s.append('<p class="ans">'.concat(r,"</p>")),o===t?(l++,s.append('<p class="o">&#x25EF;答對了！</p>'),s.append('<p class="o">正確答案是 '.concat(a,"</p>")),s.append('<p class="ans">我記得了！</p>')):(s.append('<p class="x">&#x2573;答錯了！</p>'),s.append('<p class="x">正確答案是 '.concat(a,"</p>")),s.append('<p class="ans">我會注意！</p>')),e<7&&s.append("<hr>")}),$('.view.form input[name="answer"]').val(c.join(",")),$("#game > .view.resualt h2 > b").text(l);var e=$("#game > .view.resualt figure");l<4?e.addClass("c"):4<=l&&l<=6?e.addClass("b"):e.addClass("a")}()},1e3)},e?3e3:5e3)}),$("button.home").on("click",function(){location.href="./"}),$("button.sharer").on("click",function(){window.open("https://www.facebook.com/sharer/sharer.php?u="+encodeURI("https://www.tpex.org.tw/sp/antifraud/"),"_blank","toolbar=0,status=0,width=580,height=325")}),$("button.draw").on("click",function(){$("#game>.view").removeClass("active"),$(".view.term1").addClass("active"),window.scrollTo({top:0})}),$(".view.term1 button.cancel, .view.term2 button.cancel").on("click",function(){$("#game>.view").removeClass("active"),$(".view.resualt").addClass("active"),window.scrollTo({top:0})}),$(".view.term1 button.agree").on("click",function(){$("#game>.view").removeClass("active"),$(".view.term2").addClass("active"),window.scrollTo({top:0})}),$(".view.term2 button.agree").on("click",function(){$("#game>.view").removeClass("active"),$(".view.form").addClass("active"),window.scrollTo({top:0})});function n(e){return $('#game > .view.form form input[name="'.concat(e,'"]'))}n("idno").on("input",function(e){e.target.setCustomValidity(isID($(e.target).val())?"":"「身份證字號」格式不符")}),n("phone").on("input",function(e){return e.target.setCustomValidity(/^09(\d{8})$/.test($(e.target).val())?"":"請輸入台灣 09 開頭的手機號碼，共10碼。")}),n("address").on("input",function(e){return e.target.setCustomValidity(6<$(e.target).val().length?"":"請輸入完整地址")}),$("#game > .view.form form").on("submit",function(){return console.log(grecaptcha),""!=grecaptcha.getResponse()||(alert("請勾選「我不是機器人」"),!1)}),$("#game > .view.form form").on("reset",function(){return grecaptcha.reset(),!0})}),$.fn.queueAddClass=function(t){return this.queue("fx",function(e){$(this).addClass(t),e()}),this},$.fn.queueRemoveClass=function(t){return this.queue("fx",function(e){$(this).removeClass(t),e()}),this};